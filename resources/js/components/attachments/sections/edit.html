<div>
    <form role="form" @submit.prevent="panel.form.submit()" @keydown="panel.form.errors.clear($event.target.name)">
        <div class="row">
            <div class="col-md-4">
                <div class="form-group" :class="{ 'has-error': panel.form.error('sectionable_id') }">
                    <div class="input-group">
                        <input
                                type="text"
                                class="form-control"
                                v-model="table.query.q"
                                placeholder="Search"
                                @keydown="table.index()"
                        >
                        <span class="input-group-addon"><icon class="fa fa-search"></icon></span>
                    </div>
                    <span v-for="error in panel.form.error('sectionable_id')" class="contents-danger">{{ error }}</span>
                </div>
            </div>
            <div class="col-md-3">
                <p><img class="img-responsive" :src="attachment.src"/></p>
            </div>
            <div class="col-md-5">
                <div class="clearfix">
                    <div class="btn-group pull-right">
                        <a class="btn btn-sm btn-default" href="/admin/belt/clip/attachments/create" target="_blank"><i class="fa fa-plus"></i></a>
                        <a v-if="attachment.id" class="btn btn-sm btn-default" :href="'/admin/belt/clip/attachments/edit/' + attachment.id"
                           target="_blank">
                            <i class="fa fa-edit"></i>
                        </a>
                    </div>
                </div>
                <template v-if="attachment.id">
                    <p>{{ attachment.id }}. {{ attachment.name }}</p>
                    <p><strong>{{ attachment.title }}</strong></p>
                </template>
            </div>
        </div>
    </form>

    <div v-if="table.query.q && table.items.length">
        <div class="row">
            <div class="col-md-12">
                <template v-for="attachment in table.items">
                    <img class="img-thumbnail pull-left" :src="attachment.src" style="max-height: 100px" @click="update(attachment.id)"/>
                </template>
            </div>
        </div>
    </div>
</div>